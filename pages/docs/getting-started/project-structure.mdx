# Project Structure

A scalable directory layout for React applications.

import { Callout, FileTree, Steps } from 'nextra/components'

## Directory Layout

<FileTree>
  <FileTree.Folder name="src" defaultOpen>
    <FileTree.Folder name="app">
      <FileTree.Folder name="providers" />
      <FileTree.Folder name="router" />
      <FileTree.File name="App.tsx" />
    </FileTree.Folder>
    <FileTree.Folder name="components">
      <FileTree.Folder name="ui" />
      <FileTree.Folder name="layout" />
      <FileTree.Folder name="common" />
    </FileTree.Folder>
    <FileTree.Folder name="features" defaultOpen>
      <FileTree.Folder name="auth">
        <FileTree.Folder name="components" />
        <FileTree.Folder name="hooks" />
        <FileTree.Folder name="services" />
        <FileTree.Folder name="stores" />
        <FileTree.Folder name="types" />
        <FileTree.File name="index.ts" />
      </FileTree.Folder>
      <FileTree.Folder name="users" />
    </FileTree.Folder>
    <FileTree.Folder name="hooks" />
    <FileTree.Folder name="lib" />
    <FileTree.Folder name="services" />
    <FileTree.Folder name="stores" />
    <FileTree.Folder name="types" />
    <FileTree.Folder name="utils" />
    <FileTree.Folder name="constants" />
    <FileTree.Folder name="assets" />
    <FileTree.Folder name="styles" />
    <FileTree.File name="main.tsx" />
  </FileTree.Folder>
</FileTree>

## Structure Rules

<Steps>

### Feature Isolation

Each feature module is self-contained with its own components, hooks, services, stores, and types.

<FileTree>
  <FileTree.Folder name="features/auth" defaultOpen>
    <FileTree.Folder name="components" defaultOpen>
      <FileTree.File name="LoginForm.tsx" />
      <FileTree.File name="SignupForm.tsx" />
    </FileTree.Folder>
    <FileTree.Folder name="hooks">
      <FileTree.File name="useAuth.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="services">
      <FileTree.File name="authService.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="stores">
      <FileTree.File name="authStore.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="types">
      <FileTree.File name="auth.types.ts" />
    </FileTree.Folder>
    <FileTree.File name="index.ts" />
  </FileTree.Folder>
</FileTree>

### Public API Pattern

Export through `index.ts` to control what's exposed:

```typescript
// features/auth/index.ts
export { LoginForm } from './components/LoginForm';
export { useAuth } from './hooks/useAuth';
export type { User, AuthState } from './types/auth.types';
```

<Callout type="info">This pattern allows you to refactor internal file structure without breaking imports elsewhere.</Callout>

### Colocation

Keep tests and styles next to components:

<FileTree>
  <FileTree.Folder name="components/Button" defaultOpen>
    <FileTree.File name="Button.tsx" />
    <FileTree.File name="Button.test.tsx" />
    <FileTree.File name="Button.stories.tsx" />
    <FileTree.File name="index.ts" />
  </FileTree.Folder>
</FileTree>

### No Circular Dependencies

Use dependency analysis tools to detect and prevent circular imports.

<Callout type="warning">Circular dependencies cause bugs and make refactoring difficult. Use tools like <code>madge</code> to detect them.</Callout>

### Maximum Nesting

Limit directory nesting to 4 levels to maintain navigability.

</Steps>

## Import Aliases

Configure path aliases for cleaner imports:

```typescript
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

Use imports like:
```typescript
import { Button } from '@/components/ui';
import { useAuth } from '@/features/auth';
```
